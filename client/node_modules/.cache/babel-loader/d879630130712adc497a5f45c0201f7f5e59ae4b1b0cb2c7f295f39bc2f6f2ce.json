{"ast":null,"code":"import _objectSpread from\"C:/Users/RK/Downloads/opentalk_voice_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Register from'./pages/Register';import Login from'./pages/Login';import Profile from'./pages/Profile';import Connect from'./pages/Connect';import Call1 from'./pages/Call1';import socket from'./socket';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState(localStorage.getItem('token')||null);const[user,setUser]=useState(JSON.parse(localStorage.getItem('user')||'null'));const[page,setPage]=useState('login');const[roomInfo,setRoomInfo]=useState({roomId:null,partner:null});useEffect(()=>{if(token&&user)setPage('profile');},[token,user]);const handleLogin=_ref=>{let{token,user}=_ref;localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(user));setToken(token);setUser(user);setPage('profile');};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setToken(null);setUser(null);setPage('login');};return/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'Arial, sans-serif',maxWidth:900,margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.logo,children:\"OpenTalk - Voice\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.nav,children:token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:styles.username,children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"button\",{style:styles.btn,onClick:()=>setPage('profile'),children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btn,onClick:()=>setPage('connect'),children:\"Connect\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.btn),{},{backgroundColor:'#dc3545'}),onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btn,onClick:()=>setPage('login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btn,onClick:()=>setPage('register'),children:\"Register\"})]})})]}),/*#__PURE__*/_jsxs(\"main\",{style:{padding:20},children:[page==='register'&&/*#__PURE__*/_jsx(Register,{afterRegister:handleLogin}),page==='login'&&/*#__PURE__*/_jsx(Login,{afterLogin:handleLogin}),page==='profile'&&/*#__PURE__*/_jsx(Profile,{user:user,setUser:setUser,token:token}),page==='connect'&&/*#__PURE__*/_jsx(Connect,{user:user,token:token,setPage:setPage,setRoomInfo:setRoomInfo}),page==='call'&&/*#__PURE__*/_jsx(Call1,{user:user,roomInfo:roomInfo,setPage:setPage})]})]});}export default App;// ---- Styles ----\nconst styles={header:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'15px 20px',backgroundColor:'#007BFF',color:'#fff',flexWrap:'wrap'},logo:{margin:0,fontSize:24,fontWeight:'bold'},nav:{display:'flex',alignItems:'center',gap:10,flexWrap:'wrap'},username:{fontWeight:600,marginRight:10},btn:{padding:'6px 14px',border:'none',borderRadius:5,backgroundColor:'#28a745',color:'#fff',cursor:'pointer',fontWeight:500,transition:'0.2s'}};","map":{"version":3,"names":["React","useState","useEffect","Register","Login","Profile","Connect","Call1","socket","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","token","setToken","localStorage","getItem","user","setUser","JSON","parse","page","setPage","roomInfo","setRoomInfo","roomId","partner","handleLogin","_ref","setItem","stringify","handleLogout","removeItem","style","fontFamily","maxWidth","margin","children","styles","header","logo","nav","username","btn","onClick","_objectSpread","backgroundColor","padding","afterRegister","afterLogin","display","justifyContent","alignItems","color","flexWrap","fontSize","fontWeight","gap","marginRight","border","borderRadius","cursor","transition"],"sources":["C:/Users/RK/Downloads/opentalk_voice_app/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Register from './pages/Register';\nimport Login from './pages/Login';\nimport Profile from './pages/Profile';\nimport Connect from './pages/Connect';\nimport Call1 from './pages/Call1';\nimport socket from './socket';\n\nfunction App() {\n  const [token, setToken] = useState(localStorage.getItem('token') || null);\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user') || 'null'));\n  const [page, setPage] = useState('login');\n  const [roomInfo, setRoomInfo] = useState({ roomId: null, partner: null });\n\n  useEffect(() => {\n    if (token && user) setPage('profile');\n  }, [token, user]);\n\n  const handleLogin = ({ token, user }) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    setToken(token);\n    setUser(user);\n    setPage('profile');\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setToken(null);\n    setUser(null);\n    setPage('login');\n  };\n\n  return (\n    <div style={{ fontFamily: 'Arial, sans-serif', maxWidth: 900, margin: '0 auto' }}>\n      {/* Header */}\n      <header style={styles.header}>\n        <h1 style={styles.logo}>OpenTalk - Voice</h1>\n        <div style={styles.nav}>\n          {token ? (\n            <>\n              <span style={styles.username}>{user?.username}</span>\n              <button style={styles.btn} onClick={() => setPage('profile')}>Profile</button>\n              <button style={styles.btn} onClick={() => setPage('connect')}>Connect</button>\n              <button style={{ ...styles.btn, backgroundColor: '#dc3545' }} onClick={handleLogout}>Logout</button>\n            </>\n          ) : (\n            <>\n              <button style={styles.btn} onClick={() => setPage('login')}>Login</button>\n              <button style={styles.btn} onClick={() => setPage('register')}>Register</button>\n            </>\n          )}\n        </div>\n      </header>\n\n      {/* Page content */}\n      <main style={{ padding: 20 }}>\n        {page === 'register' && <Register afterRegister={handleLogin} />}\n        {page === 'login' && <Login afterLogin={handleLogin} />}\n        {page === 'profile' && <Profile user={user} setUser={setUser} token={token} />}\n        {page === 'connect' && (\n          <Connect user={user} token={token} setPage={setPage} setRoomInfo={setRoomInfo} />\n        )}\n        {page === 'call' && <Call1 user={user} roomInfo={roomInfo} setPage={setPage} />}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n// ---- Styles ----\nconst styles = {\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '15px 20px',\n    backgroundColor: '#007BFF',\n    color: '#fff',\n    flexWrap: 'wrap',\n  },\n  logo: {\n    margin: 0,\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n  nav: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: 10,\n    flexWrap: 'wrap',\n  },\n  username: {\n    fontWeight: 600,\n    marginRight: 10,\n  },\n  btn: {\n    padding: '6px 14px',\n    border: 'none',\n    borderRadius: 5,\n    backgroundColor: '#28a745',\n    color: '#fff',\n    cursor: 'pointer',\n    fontWeight: 500,\n    transition: '0.2s',\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}