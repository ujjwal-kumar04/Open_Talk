{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(_ref){let{user,setUser,token}=_ref;const[username,setUsername]=useState((user===null||user===void 0?void 0:user.username)||'');const[editMode,setEditMode]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{setUsername((user===null||user===void 0?void 0:user.username)||'');},[user]);const save=async()=>{if(!username.trim()){alert('Username cannot be empty');return;}setLoading(true);try{const res=await axios.put(\"http://localhost:5000/profile/update/\".concat(user.id),{username},{headers:{Authorization:token}});setUser(res.data);localStorage.setItem('user',JSON.stringify(res.data));alert('Updated Successfully');setEditMode(false);}catch(e){alert('Error updating username');console.error(e);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.heading,children:\"Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Username:\"}),editMode?/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Enter username\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.saveBtn,onClick:save,disabled:loading,children:loading?'Saving...':'Save'}),/*#__PURE__*/_jsx(\"button\",{style:styles.cancelBtn,onClick:()=>setEditMode(false),children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:styles.displayGroup,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.username,children:username}),/*#__PURE__*/_jsx(\"button\",{style:styles.updateBtn,onClick:()=>setEditMode(true),children:\"Update\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.card,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Your ID:\"}),\" \",user===null||user===void 0?void 0:user.id]})})]});}// Inline styles for simplicity\nconst styles={container:{maxWidth:500,margin:'20px auto',padding:20,fontFamily:'Arial, sans-serif'},heading:{textAlign:'center',marginBottom:20},card:{backgroundColor:'#f8f8f8',padding:15,borderRadius:8,marginBottom:15,boxShadow:'0 2px 6px rgba(0,0,0,0.1)'},label:{display:'block',fontWeight:600,marginBottom:8},displayGroup:{display:'flex',justifyContent:'space-between',alignItems:'center'},username:{fontSize:16,fontWeight:500},updateBtn:{padding:'6px 12px',border:'none',backgroundColor:'#007BFF',color:'#fff',borderRadius:5,cursor:'pointer'},inputGroup:{display:'flex',gap:10,flexWrap:'wrap',alignItems:'center'},input:{flex:1,padding:8,borderRadius:5,border:'1px solid #ccc',fontSize:16},saveBtn:{padding:'6px 12px',border:'none',backgroundColor:'#28a745',color:'#fff',borderRadius:5,cursor:'pointer'},cancelBtn:{padding:'6px 12px',border:'none',backgroundColor:'#dc3545',color:'#fff',borderRadius:5,cursor:'pointer'}};","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Profile","_ref","user","setUser","token","username","setUsername","editMode","setEditMode","loading","setLoading","save","trim","alert","res","put","concat","id","headers","Authorization","data","localStorage","setItem","JSON","stringify","e","console","error","style","styles","container","children","heading","card","label","inputGroup","input","value","onChange","target","placeholder","saveBtn","onClick","disabled","cancelBtn","displayGroup","updateBtn","maxWidth","margin","padding","fontFamily","textAlign","marginBottom","backgroundColor","borderRadius","boxShadow","display","fontWeight","justifyContent","alignItems","fontSize","border","color","cursor","gap","flexWrap","flex"],"sources":["C:/Users/RK/Downloads/opentalk_voice_app/client/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Profile({ user, setUser, token }) {\n  const [username, setUsername] = useState(user?.username || '');\n  const [editMode, setEditMode] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setUsername(user?.username || '');\n  }, [user]);\n\n  const save = async () => {\n    if (!username.trim()) {\n      alert('Username cannot be empty');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const res = await axios.put(\n        `http://localhost:5000/profile/update/${user.id}`,\n        { username },\n        { headers: { Authorization: token } }\n      );\n      setUser(res.data);\n      localStorage.setItem('user', JSON.stringify(res.data));\n      alert('Updated Successfully');\n      setEditMode(false);\n    } catch (e) {\n      alert('Error updating username');\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <h2 style={styles.heading}>Profile</h2>\n\n      <div style={styles.card}>\n        <label style={styles.label}>Username:</label>\n\n        {editMode ? (\n          <div style={styles.inputGroup}>\n            <input\n              style={styles.input}\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              placeholder=\"Enter username\"\n            />\n            <button style={styles.saveBtn} onClick={save} disabled={loading}>\n              {loading ? 'Saving...' : 'Save'}\n            </button>\n            <button style={styles.cancelBtn} onClick={() => setEditMode(false)}>\n              Cancel\n            </button>\n          </div>\n        ) : (\n          <div style={styles.displayGroup}>\n            <span style={styles.username}>{username}</span>\n            <button style={styles.updateBtn} onClick={() => setEditMode(true)}>\n              Update\n            </button>\n          </div>\n        )}\n      </div>\n\n      <div style={styles.card}>\n        <p>\n          <strong>Your ID:</strong> {user?.id}\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// Inline styles for simplicity\nconst styles = {\n  container: {\n    maxWidth: 500,\n    margin: '20px auto',\n    padding: 20,\n    fontFamily: 'Arial, sans-serif',\n  },\n  heading: {\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  card: {\n    backgroundColor: '#f8f8f8',\n    padding: 15,\n    borderRadius: 8,\n    marginBottom: 15,\n    boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n  },\n  label: {\n    display: 'block',\n    fontWeight: 600,\n    marginBottom: 8,\n  },\n  displayGroup: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  username: {\n    fontSize: 16,\n    fontWeight: 500,\n  },\n  updateBtn: {\n    padding: '6px 12px',\n    border: 'none',\n    backgroundColor: '#007BFF',\n    color: '#fff',\n    borderRadius: 5,\n    cursor: 'pointer',\n  },\n  inputGroup: {\n    display: 'flex',\n    gap: 10,\n    flexWrap: 'wrap',\n    alignItems: 'center',\n  },\n  input: {\n    flex: 1,\n    padding: 8,\n    borderRadius: 5,\n    border: '1px solid #ccc',\n    fontSize: 16,\n  },\n  saveBtn: {\n    padding: '6px 12px',\n    border: 'none',\n    backgroundColor: '#28a745',\n    color: '#fff',\n    borderRadius: 5,\n    cursor: 'pointer',\n  },\n  cancelBtn: {\n    padding: '6px 12px',\n    border: 'none',\n    backgroundColor: '#dc3545',\n    color: '#fff',\n    borderRadius: 5,\n    cursor: 'pointer',\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}